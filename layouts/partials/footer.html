<footer class="site-footer">
  <div class="wrapper">
    <p style="margin-top: 2em;">
      Read a random <a href="/random" title="random blog article">post</a> or wander to
      <a href="https://uberblogr.de/rand/fischr" title="random blog">another blog</a>.<br />
      That's all there is, there isn't any more.
    </p>
  </div>

  <!-- Scroll to top button -->
  <button
    type="button"
    onclick="topFunction()"
    id="myBtn"
    title="Zurück nach oben"
    aria-label="Zurück nach oben">
    <span class="scroll-btn__icon" aria-hidden="true">↑</span>
  </button>

  <!-- JavaScript with cache busting -->
  {{ $buildHash := .Site.Params.buildHash | default now.Unix }}
  <script src="{{ "/js/copy-code.js" | relURL }}?v={{ $buildHash }}"></script>
  <script src="{{ "/js/keyboard-shortcuts.js" | relURL }}?v={{ $buildHash }}"></script>

  <script>
    // Get the button
    const mybutton = document.getElementById("myBtn");

    function scrollFunction() {
      const docElement = document.documentElement;
      const body = document.body;
      const scrollTop = docElement.scrollTop || body.scrollTop;
      const docHeight = docElement.scrollHeight - docElement.clientHeight;

      if (docHeight > 0) {
        const progress = Math.min((scrollTop / docHeight) * 100, 100);
        mybutton.style.setProperty("--scroll-progress", `${progress}%`);
      } else {
        mybutton.style.setProperty("--scroll-progress", "100%");
      }

      if (scrollTop > 20) {
        mybutton.style.display = "flex";
      } else {
        mybutton.style.display = "none";
      }
    }

    // When the user scrolls down 20px from the top of the document, show the button
    window.addEventListener("scroll", scrollFunction, { passive: true });

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }

    scrollFunction();
  </script>

  <!-- Analytics -->
  <script data-goatcounter="https://stats.fischr.org/count"
          async src="/js/count.js"></script>
  <noscript>
    <img src="https://stats.fischr.org/count?p={{ .RelPermalink | urlquery }}" alt="" referrerpolicy="no-referrer-when-downgrade" />
  </noscript>
</footer>
