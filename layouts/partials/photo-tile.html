{{- /*
  Partial: photo-tile.html
  Erzeugt ein einzelnes Photo-Tile für die Foto-Galerie

  Context benötigt:
  - .srcFull: Volle Auflösung
  - .src300: 200w Version
  - .src600: 400w Version
  - .tiny: LQIP (40px)
  - .caption: Optional
  - .dateFormatted: z.B. "2. Januar 2023"
  - .dateISO: ISO-Format (YYYY-MM-DD)
  - .year: Jahr
  - .permalink: Link zum Post
  - .index: Tile-Index
  - .eager: Boolean - ob eager laden
*/ -}}
<div class="photo-tile {{ if .eager }}ready{{ end }}"
     role="link" tabindex="0"
     aria-label="{{ if .caption }}{{ .caption }} – {{ .dateFormatted }}{{ else }}{{ .dateFormatted }}{{ end }}"
     data-index="{{ .index }}"
     data-year="{{ .year }}"
     data-date-iso="{{ .dateISO }}"
     data-src-full="{{ .srcFull }}"
     {{ if .caption }}data-caption="{{ .caption }}" data-has-caption="1"{{ end }}
     data-date="{{ .dateFormatted }}"
     data-url="{{ .permalink }}">
  {{ if .eager }}
    <img
      decoding="async"
      loading="{{ if lt .index 6 }}eager{{ else }}auto{{ end }}"
      fetchpriority="{{ if lt .index 6 }}high{{ else }}auto{{ end }}"
      src="{{ .src300 }}"
      srcset="{{ .src300 }} 200w, {{ .src600 }} 400w"
      sizes="(max-width: 768px) 50vw, 33vw"
      alt="{{ if .caption }}{{ .caption }}{{ else }}{{ .dateFormatted }}{{ end }}">
  {{ else }}
    <img
      class="lqip"
      decoding="async"
      loading="lazy"
      src="{{ .tiny }}"
      data-src="{{ .src300 }}"
      data-srcset="{{ .src300 }} 200w, {{ .src600 }} 400w"
      data-sizes="(max-width: 768px) 50vw, 33vw"
      alt="{{ if .caption }}{{ .caption }}{{ else }}{{ .dateFormatted }}{{ end }}">
  {{ end }}

  <span class="date-badge" aria-hidden="true"></span>
</div>
